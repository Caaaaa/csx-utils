!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).CsxUtils={})}(this,(function(e){"use strict";function n(){return window.navigator.userAgent}function t(){const e=n().toLowerCase();return/android/i.test(e)}function r(){const e=n().toLowerCase();return/iphone|ipad|ipod/i.test(e)}function o(e,n){let t=1;const r=e?String(e):"",o=n?String(n):"";if(r&&o)if(r===o)t=1;else{const e=r.split("."),n=o.split("."),i=e.length,s=n.length,c=Math.max(i,s);for(let r=0;r<c;r+=1){const o=e[r],i=n[r];if(o>i){t=2;break}if(o<i){t=3;break}}}else e&&!n?t=2:n&&!e?t=3:n||e||(t=1);return t}e.appTo=function(e,n,i,s){if(r()){const t=`${e}:${n}`;if(o(i,s)<=2){const e=window.webkit;if(!e)throw new Error("不支持！");e.messageHandlers.sendCommand.postMessge(t)}else window.location.href=t}else{if(!t())throw new Error("不在APP环境内!");{const t=window.javaScriptHelper;if(!t)throw new Error("不支持！");t.sendCommand(e,n)}}},e.isAndroid=t,e.isHOS=function(){const e=n().toLowerCase();return/harmonyos|huawei/i.test(e)},e.isIOS=r,e.isMiniProgram=function(){const e=n().toLowerCase();return/miniprogram/i.test(e)||"miniprogram"===window.__wxjs_environment},e.isWeChat=function(){const e=n().toLowerCase();return/micromessenger/i.test(e)},e.parseUrl=function(e){const n=(e||window.location.search).replace("?","").split("&").reduce(((e,n)=>{const t=e,[r,o]=n.split("=");return t[r]=decodeURIComponent(o),t}),{});return function(...e){const t=e.length;if(1===t)return n[e];if(t>1){return[...new Set(...e)].reduce(((e,t)=>{const r=e;return r[t]=n[t],r}),{})}return n}},e.stringifyUrl=function(e,n){if(!e)throw new Error("无效的url!");const t=Object.keys(n||{}).reduce(((e,t)=>{let r=e;return r=`${t}=${n?n[t]:""}&`,r}),"").replace(/&$/,"");return e.indexOf("?")?`${e}&${t}`:`${e}?${t}`},e.userAgent=n,e.versionCompare=o,Object.defineProperty(e,"__esModule",{value:!0})}));

"use strict";function e(){return window.navigator.userAgent}function t(){const t=e().toLowerCase();return/android/i.test(t)}function r(){const t=e().toLowerCase();return/iphone|ipad|ipod/i.test(t)}function n(e,t){let r=1;const n=e?String(e):"",o=t?String(t):"";if(n&&o)if(n===o)r=1;else{const e=n.split("."),t=o.split("."),s=e.length,i=t.length,c=Math.max(s,i);for(let n=0;n<c;n+=1){const o=e[n],s=t[n];if(o>s){r=2;break}if(o<s){r=3;break}}}else e&&!t?r=2:t&&!e?r=3:t||e||(r=1);return r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.appTo=function(e,o,s,i){if(r()){const t=`${e}:${o}`;if(n(s,i)<=2){const e=window.webkit;if(!e)throw new Error("不支持！");e.messageHandlers.sendCommand.postMessge(t)}else window.location.href=t}else{if(!t())throw new Error("不在APP环境内!");{const t=window.javaScriptHelper;if(!t)throw new Error("不支持！");t.sendCommand(e,o)}}},exports.isAndroid=t,exports.isHOS=function(){const t=e().toLowerCase();return/harmonyos|huawei/i.test(t)},exports.isIOS=r,exports.isMiniProgram=function(){const t=e().toLowerCase();return/miniprogram/i.test(t)||"miniprogram"===window.__wxjs_environment},exports.isWeChat=function(){const t=e().toLowerCase();return/micromessenger/i.test(t)},exports.parseUrl=function(e){const t=(e||window.location.search).replace("?","").split("&").reduce(((e,t)=>{const r=e,[n,o]=t.split("=");return r[n]=decodeURIComponent(o),r}),{});return function(...e){const r=e.length;if(1===r)return t[e];if(r>1){return[...new Set(...e)].reduce(((e,r)=>{const n=e;return n[r]=t[r],n}),{})}return t}},exports.stringifyUrl=function(e,t){if(!e)throw new Error("无效的url!");const r=Object.keys(t||{}).reduce(((e,r)=>{let n=e;return n=`${r}=${t?t[r]:""}&`,n}),"").replace(/&$/,"");return e.indexOf("?")?`${e}&${r}`:`${e}?${r}`},exports.userAgent=e,exports.versionCompare=n;

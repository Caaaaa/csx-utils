function e(e,t,r,i){if(o()){const n=`${e}:${t}`;if(w(r,i)<=2){const e=window.webkit;if(!e)throw new Error("不支持！");e.messageHandlers.sendCommand.postMessge(n)}else window.location.href=n}else{if(!n())throw new Error("不在APP环境内!");{const n=window.javaScriptHelper;if(!n)throw new Error("不支持！");n.sendCommand(e,t)}}}function t(){return window.navigator.userAgent}function n(){const e=t().toLowerCase();return/android/i.test(e)}function r(){const e=t().toLowerCase();return/harmonyos|huawei/i.test(e)}function o(){const e=t().toLowerCase();return/iphone|ipad|ipod/i.test(e)}function i(){const e=t().toLowerCase();return/miniprogram/i.test(e)||"miniprogram"===window.__wxjs_environment}function s(e,t){return Object.prototype.toString.call(e)===`[object ${t}]`}function c(){const e=t().toLowerCase();return/micromessenger/i.test(e)}function u(e){const t=(e||window.location.search).replace("?","").split("&").reduce(((e,t)=>{const n=e,[r,o]=t.split("=");return n[r]=decodeURIComponent(o),n}),{});return function(...e){const n=e.length;if(1===n)return t[e];if(n>1){return[...new Set(...e)].reduce(((e,n)=>{const r=e;return r[n]=t[n],r}),{})}return t}}function a(e,t){let n="";if(!e)throw new Error("无效的url!");s(t,"Object")?n=Object.keys(t||{}).reduce(((e,n)=>{let r=e;return r=`${n}=${t?t[n]:""}&`,r}),"").replace(/&$/,""):s(t,"String")&&(n=t);return e.indexOf("?")?`${e}?${n}`:`${e}&${n}`}function w(e,t){let n=1;const r=e?String(e):"",o=t?String(t):"";if(r&&o)if(r===o)n=1;else{const e=r.split("."),t=o.split("."),i=e.length,s=t.length,c=Math.max(i,s);for(let r=0;r<c;r+=1){const o=e[r],i=t[r];if(o>i){n=2;break}if(o<i){n=3;break}}}else e&&!t?n=2:t&&!e?n=3:t||e||(n=1);return n}export{e as appTo,n as isAndroid,r as isHOS,o as isIOS,i as isMiniProgram,s as isType,c as isWeChat,u as parseUrl,a as stringifyUrl,t as userAgent,w as versionCompare};
